import{u as f,R as y,b as r,F as c,j as e,S,G as n,B as T,c as C,h as b,d as w,T as D}from"./index-57e051c1.js";import{u as I,D as k}from"./DataGrid-ad7d820c.js";import{D as s,P as p}from"./PageHeader-205e30bf.js";import"./Checkbox-3b8794ba.js";const F=()=>{const g=f(),[m,t]=y.useState(`${new Date}`),[o,d]=y.useState(`${new Date}`),[i,u]=y.useState(1),N=async()=>{try{await C.timeSheet.set.mutate({inTime:m,outTime:o,statusId:i})}catch(l){b(l,g)}},h={id:"create-payroll",labelId:"create-payroll-label"},v=l=>{u(l.target.value)};return r(c,{children:[e(s.Trigger,{...h,variant:"primary",children:"Add Timesheet"}),r(s,{...h,children:[e(s.Header,{title:"Add Timesheet"}),e(s.Body,{children:r(S,{gap:"3",children:[r(n.Row,{gutters:"3",children:[e(n.Col,{cols:["12","lg-6"],children:r("div",{className:"form-floating",children:[e("input",{type:"date-time",className:"form-control",value:m,onChange:l=>t(l.target.value)}),e("label",{htmlFor:"InTime",children:"InTime"})]})}),e(n.Col,{cols:["12","lg-6"],children:r("div",{className:"form-floating",children:[e("input",{type:"date-time",className:"form-control",value:o,onChange:l=>d(l.target.value)}),e("label",{htmlFor:"OutTime",children:"OutTime"})]})}),e(n.Col,{cols:["12","lg-6"],children:r("div",{className:"form-floating",children:[r("select",{className:"form-control",value:i,onChange:l=>v(l),children:[e("option",{value:1,children:"Present"}),e("option",{value:2,children:"Absent"})]}),e("label",{htmlFor:"Status",children:"Status"})]})})]}),e(n.Row,{gutters:"3"})]})}),r(s.Footer,{children:[e(T,{variant:"outline-primary","data-bs-toggle":"modal","data-bs-target":`#${h.id}`,children:"Cancel"}),e(T,{variant:"primary",onClick:N,"data-bs-toggle":"modal","data-bs-target":`#${h.id}`,children:"Submit"})]})]})]})},a={uid:"1",empcode:"1210",empname:"Vignesh S",attendancedate:"18/04/2023",checkin:"9.00 Am",checkout:"5.00 Pm",status:"P"},R=[a,{...a,uid:"2"},{...a,uid:"3"},{...a,uid:"4"},{...a,uid:"5"},{...a,uid:"6"},{...a,uid:"7"},{...a,uid:"8"},{...a,uid:"9"},{...a,uid:"10"},{...a,uid:"11"},{...a,uid:"12"},{...a,uid:"13"}],$=()=>{const g=f(),m=I({load:async({states:t})=>{var o,d;try{const i={sortBy:(o=t.sortState)==null?void 0:o.sortBy,sortOrder:(d=t.sortState)==null?void 0:d.sortOrder,limit:t.paginationState.limit,page:t.paginationState.page};console.log({inputParameters:i});const u=await C.timeSheet.getMany.mutate();return{totalCount:u.totalCount,items:u.items}}catch(i){return b(i,g),{error:Error("Something went wrong")}}}});return r(S,{gap:"3",children:[r(n.Row,{children:[e(n.Col,{className:"py-2",cols:["12","md-2"],children:e("input",{type:"text",className:"form-control form-control-sm",placeholder:"Emp.Name"})}),e(n.Col,{className:"py-2",cols:["12","md-2"],children:e("input",{type:"text",className:"form-control form-control-sm",placeholder:"Date"})}),e(n.Col,{className:"py-2",cols:["12","md-2"],children:e("input",{type:"text",className:"form-control form-control-sm",placeholder:"Time"})}),e(n.Col,{className:"py-2",cols:["12","md-2"],children:e(T,{variant:"primary",className:"w-100",children:"Search"})})]}),e(p,{title:e(p.Title,{children:"Time Sheet"})}),e(p,{title:e(p.Title,{}),actions:e(F,{})}),e(w,{children:e(k,{...m,columns:[{id:"2",key:"",label:"Emp Name",renderCell:t=>e(c,{children:t.user.personalInfo?`${t.user.personalInfo.firstName} ${t.user.personalInfo.lastName}`:""})},{id:"3",key:"",label:"Date",renderCell:t=>e(c,{children:t.inTime?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(t.inTime)):""})},{id:"4",key:"",label:"In Time",renderCell:t=>e(c,{children:t.inTime?new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(new Date(t.inTime)):""})},{id:"5",key:"checkout",label:"Out Time",renderCell:t=>e(c,{children:t.outTime?new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(new Date(t.outTime)):""})},{id:"6",key:"",label:"Status",renderCell:t=>e(D,{transform:"capitalize",color:t.status.name==="present"?"success":t.status.name==="absent"?"danger":"warning",children:t.status.name})}]})})]})};export{$ as TimeSheetPage,$ as default,a as timeSheet,R as timeSheets};
