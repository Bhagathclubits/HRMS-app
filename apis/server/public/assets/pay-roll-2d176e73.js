import{u as p,b as s,S as h,G as t,j as r,B as y,d as f,F as o,T as C,c as N,h as g}from"./index-72af6e03.js";import{u as S,D as b}from"./DataGrid-5d9543b8.js";import{P as c}from"./PageHeader-f1fba51d.js";import{P as w}from"./PayRollDetailsDialog-55fbea59.js";import"./Checkbox-c44af0a1.js";const a={uid:"1",empid:"1210",name:"Vignesh S",month:"Jan/2023",grosspay:"30000",status:"Recived"},x=[a,{...a,uid:"2",month:"Feb/2023"},{...a,uid:"3",month:"Mar/2023"},{...a,uid:"4",month:"Apr/2023"},{...a,uid:"5",month:"May/2023"},{...a,uid:"6",month:"Jun/2023"},{...a,uid:"7",month:"Jul/2023"},{...a,uid:"8",month:"Aug/2023"},{...a,uid:"9",month:"Sep/2023"},{...a,uid:"10",month:"Oct/2023"},{...a,uid:"11",month:"Nov/2023"},{...a,uid:"12",month:"Dec/2023"}],I=()=>{const d=p(),u=S({load:async({states:e})=>{var l,n;try{const m={sortBy:(l=e.sortState)==null?void 0:l.sortBy,sortOrder:(n=e.sortState)==null?void 0:n.sortOrder,limit:e.paginationState.limit,page:e.paginationState.page},i=await N.payRoll.getMany.mutate(m);return{totalCount:i.totalCount,items:i.items}}catch(m){return g(m,d),{error:Error("Something went wrong")}}}});return s(h,{gap:"3",children:[s(t.Row,{children:[r(t.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"Emp.Code"})}),r(t.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"Emp.Name"})}),s(t.Row,{children:[r(t.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"From"})}),r(t.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"To"})}),r(t.Col,{className:"py-2",cols:["12","md-2"],children:r(y,{variant:"primary",className:"w-100",children:"Search"})})]})]}),r(c,{title:r(c.Title,{})}),r(f,{children:r(b,{...u,columns:[{id:"1",key:"",label:"Emp Code",renderCell:e=>r(o,{children:e.user.id})},{id:"2",key:"",label:"Emp Name",renderCell:e=>r(o,{children:e.user.personalInfo?`${e.user.personalInfo.firstName} ${e.user.personalInfo.lastName}`:""})},{id:"3",key:"",label:"Financial Year",renderCell:e=>s(o,{children:["FY"," ",new Intl.DateTimeFormat("en-US",{year:"2-digit"}).format(new Date().setFullYear(e.year,e.month,1))]})},{id:"4",key:"",label:"Period",renderCell:e=>r(o,{children:new Intl.DateTimeFormat("en-US",{month:"short",year:"2-digit"}).format(new Date().setFullYear(e.year,e.month,1))})},{id:"5",key:"",label:"Gross Pay",renderCell:e=>r(o,{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(Number(e.paySlipComponents.reduce((l,n)=>l+Number(n.amount),0)))})},{id:"6",key:"",label:"Status",renderCell:e=>r(C,{transform:"capitalize",children:e.status.name})},{id:"7",key:"",label:"Action",renderCell:e=>r(w,{payRollDetails:e})}]})})]})};export{I as PayRollPage,I as default,a as payRoll,x as payRolls};
