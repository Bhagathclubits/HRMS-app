import{u as p,b as n,S as u,G as a,j as r,B as y,e as h,F as l,T as f,c as C,h as N}from"./index-4bbca3b0.js";import{u as g,D as S}from"./DataGrid-87243675.js";import{P as i}from"./PageHeader-7a080ab0.js";import{P as b}from"./PayRollDetailsDialog-4f0d9525.js";import"./Checkbox-ff3f9a33.js";import"./Dialog-227ac254.js";const R=()=>{const c=p(),d=g({load:async({states:e})=>{var t,o;try{const s={sortBy:(t=e.sortState)==null?void 0:t.sortBy,sortOrder:(o=e.sortState)==null?void 0:o.sortOrder,limit:e.paginationState.limit,page:e.paginationState.page},m=await C.payRoll.getMany.mutate(s);return{totalCount:m.totalCount,items:m.items}}catch(s){return N(s,c),{error:Error("Something went wrong")}}}});return n(u,{gap:"3",children:[n(a.Row,{children:[r(a.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"Emp.Code"})}),r(a.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"Emp.Name"})}),n(a.Row,{children:[r(a.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"From"})}),r(a.Col,{className:"py-2",cols:["12","md-2"],children:r("input",{type:"text",className:"form-control form-control-sm",placeholder:"To"})}),r(a.Col,{className:"py-2",cols:["12","md-2"],children:r(y,{variant:"primary",className:"w-100",children:"Search"})})]})]}),r(i,{title:r(i.Title,{})}),r(h,{children:r(S,{...d,columns:[{id:"1",key:"",label:"Emp Code",renderCell:e=>r(l,{children:e.user.id})},{id:"2",key:"",label:"Emp Name",renderCell:e=>r(l,{children:e.user.personalInfo?`${e.user.personalInfo.firstName} ${e.user.personalInfo.lastName}`:""})},{id:"3",key:"",label:"Financial Year",renderCell:e=>n(l,{children:["FY"," ",new Intl.DateTimeFormat("en-US",{year:"2-digit"}).format(new Date().setFullYear(e.year,e.month,1))]})},{id:"4",key:"",label:"Period",renderCell:e=>r(l,{children:new Intl.DateTimeFormat("en-US",{month:"short",year:"2-digit"}).format(new Date().setFullYear(e.year,e.month,1))})},{id:"5",key:"",label:"Gross Pay",renderCell:e=>r(l,{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(Number(e.paySlipComponents.reduce((t,o)=>t+Number(o.amount),0)))})},{id:"6",key:"",label:"Status",renderCell:e=>r(f,{transform:"capitalize",children:e.status.name})},{id:"7",key:"",label:"Action",renderCell:e=>r(b,{payRollDetails:e})}]})})]})};export{R as PayRollPage,R as default};
